package com.example.second;

import android.app.Activity;
import android.content.Intent;
import android.content.SharedPreferences;
import android.os.Bundle;
import android.util.Log;
import android.view.View;
import android.widget.EditText;

import androidx.appcompat.app.AppCompatActivity;

public class opentest extends AppCompatActivity {

    private static final String TAG = "kkkkk";

    EditText dd;
    EditText ee;
    EditText ww;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_opentest);
        Log.i(TAG, "receive: ");
        Intent in = getIntent();
        float d = in.getFloatExtra("dollar_key",0.0f);
        float e = in.getFloatExtra("euro_key",0.0f);
        float w = in.getFloatExtra("won_key",0.0f);

        dd = findViewById(R.id.dinput);
        ee = findViewById(R.id.einput);
        ww = findViewById(R.id.winput);

        dd.setText(String.valueOf(d));
        ee.setText(String.valueOf(e));
        ww.setText(String.valueOf(w));

        Log.i(TAG, "receive: ok");
    }

    public void btn_re(View btn){
        /*Log.i(TAG, "return: ");
        Intent re = getIntent();
        re.putExtra("dre",Float.parseFloat(dd.getText().toString()));
        re.putExtra("ere",Float.parseFloat(ee.getText().toString()));
        re.putExtra("wre",Float.parseFloat(ww.getText().toString()));
        setResult(3,re);
        Log.i(TAG, "return: ok");*/

        Log.i(TAG, "putshare: ");
        SharedPreferences sp = getSharedPreferences("myrate", Activity.MODE_PRIVATE);
        SharedPreferences.Editor editor = sp.edit();
        editor.putFloat("dr",Float.parseFloat(dd.getText().toString()));
        editor.putFloat("er",Float.parseFloat(ee.getText().toString()));
        editor.putFloat("wr",Float.parseFloat(ww.getText().toString()));
        editor.apply();
        Log.i(TAG, "putshared: ok");

        /*Log.i(TAG, "return1: ");
        Intent re1 = getIntent();
        Bundle bb = new Bundle();
        bb.putFloat("dre",Float.parseFloat(dd.getText().toString()));
        bb.putFloat("ere",Float.parseFloat(ee.getText().toString()));
        bb.putFloat("wre",Float.parseFloat(ww.getText().toString()));
        re1.putExtras(bb);
        setResult(5,re1);*/

        Log.i(TAG, "return1: ok");
        finish();
    }
}